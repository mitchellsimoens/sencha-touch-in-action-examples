<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="../../touch/resources/css/sencha-touch.css" type="text/css">
    <script type="text/javascript" src="../../touch/sencha-touch-all-debug.js"></script>

    <script type="text/javascript">

        Ext.application({
            launch : function() {
                var handleNavigation = function(btn) {
                    var currentContainer = myContainer.getActiveItem(),
                        innerItems       = myContainer.getInnerItems(),
                        totalItems       = innerItems.length,
                        currentIndex     = innerItems.indexOf(currentContainer),
                        direction,
                        newIndex;

                    if (btn.getText() == 'Back') {
                        direction = 'right';
                        newIndex  = currentIndex > 0 ? (currentIndex - 1) : (totalItems - 1);
                    }
                    else {
                        direction = 'left';
                        newIndex  = currentIndex < (totalItems - 1) ? (currentIndex + 1) : 0;
                    }

                    myContainer.animateActiveItem(newIndex, {
                        type      : 'slide',
                        direction : direction
                    });
                };

                var myContainer = Ext.create('Ext.Container', {
                    fullscreen : true,
                    activeItem : 1,
                    layout     : {
                        type      : 'card',
                        animation : 'slide'
                    },
                    items      : [
                        {
                            xtype  : 'toolbar',
                            docked : 'top',
                            title  : 'Card Layout',
                            items  : [
                                {
                                    text    : 'Back',
                                    ui      : 'back',
                                    handler : handleNavigation
                                },
                                { xtype : 'spacer' },
                                {
                                    text    : 'Forward',
                                    ui      : 'forward',
                                    handler : handleNavigation
                                }
                            ]
                        },
                        {
                            style : 'background-color: #99F;'
                        },
                        {
                            html  : 'Card 2',
                            style : 'background-color: #F99;'
                        },
                        {
                            style : 'background-color: #9F9;'
                        }
                    ]
                });
            }
        });

    </script>

</head>
<body></body>
</html>
